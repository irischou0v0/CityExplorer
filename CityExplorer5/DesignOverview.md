# 项目设计思路概览

下列要点从整体架构、数据流、界面导航、状态管理和扩展性角度梳理了本项目的设计思路，便于快速理解实现脉络。

- **分层与职责**：采用以 UIKit 控制器为中心的分层模式，`Models` 持有景点和评论数据结构，`Controllers` 负责页面逻辑与导航，`Views` 封装表格/集合单元格样式，`Utils` 负责数据加载与工具函数，UI 布局主要由 Storyboard 管理，保证视图与逻辑的职责分离。
- **数据管理策略**：`DataManager` 作为单例在首屏初始化本地 JSON/模拟数据，对景点集合进行缓存，并暴露按 ID 查询接口，避免重复解析和传递大体量数据。
- **导航与信息流**：主界面通过 `UITabBarController` 组织景点列表、工具页和设置页；景点列表通过 segue 将选中景点的 ID 传递到详情页，详情页再基于 `DataManager` 查询完整模型，保持数据来源一致。
- **界面渲染与复用**：列表页使用 `UITableView` 搭配自定义 `AttractionTableViewCell` 渲染图片与评分，工具页使用 `UICollectionView` 与自定义 `ToolCollectionViewCell` 提供卡片化入口，复用 cell 提升渲染性能并简化样式管理。
- **动态内容布局**：详情页根据 `Comment` 数组动态生成评论视图并利用自动布局串联，使评论区域高度自适应，适配不同数量和长度的评论；多媒体区通过 `AVPlayerViewController` 播放本地视频丰富体验。
- **网络与并发**：天气工具使用 `URLSession.dataTask` 拉取第三方天气接口并通过 `JSONSerialization` 解析结果，切换回主线程更新 UI，体现基本的异步网络请求与线程切换实践。
- **账户与状态持久化**：登录与注册使用 `UserDefaults` 存储凭据和登录态，成功登录后切换根控制器到主 TabBar；设置页可清理登录信息并返回登录页，形成最小闭环。
- **错误与占位处理**：天气模块对异常响应给出提示，工具页对未实现的入口弹窗说明，表格/图片使用占位配置，确保异常场景下的可用性和反馈。
- **扩展与维护考量**：数据获取层与 UI 绑定松耦合，后续可替换本地数据为远程 API；工具入口采用集合视图，便于按需增删功能；以模型 ID 而非大对象在页面间传递，有助于降低耦合和内存占用。
